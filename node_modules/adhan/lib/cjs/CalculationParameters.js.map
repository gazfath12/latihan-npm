{"version":3,"sources":["../../src/CalculationParameters.ts"],"names":["CalculationParameters","method","fajrAngle","ishaAngle","ishaInterval","maghribAngle","Madhab","Shafi","HighLatitudeRule","MiddleOfTheNight","fajr","sunrise","dhuhr","asr","maghrib","isha","PolarCircleResolution","Unresolved","Rounding","Nearest","Shafaq","General","highLatitudeRule","SeventhOfTheNight","TwilightAngle"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;IAGqBA,qB;AACnB;AAGA;AACA;AACA;AAIA;AAUA;AAUA;AACA;AACA;AAIA;AAGA;AAGA,kCACE;AACA;AACOC,EAAAA,MAHT,EAcE;AAAA,QATOC,SASP,uEATmB,CASnB;AAAA,QAPOC,SAOP,uEAPmB,CAOnB;AAAA,QAJOC,YAIP,uEAJsB,CAItB;AAAA,QADOC,YACP,uEADsB,CACtB;;AAAA;;AAAA,oCAtD+BC,eAAOC,KAsDtC;;AAAA,8CAhDAC,6BAAiBC,gBAgDjB;;AAAA,yCA7CY;AACZC,MAAAA,IAAI,EAAE,CADM;AAEZC,MAAAA,OAAO,EAAE,CAFG;AAGZC,MAAAA,KAAK,EAAE,CAHK;AAIZC,MAAAA,GAAG,EAAE,CAJO;AAKZC,MAAAA,OAAO,EAAE,CALG;AAMZC,MAAAA,IAAI,EAAE;AANM,KA6CZ;;AAAA,+CAnCkB;AAClBL,MAAAA,IAAI,EAAE,CADY;AAElBC,MAAAA,OAAO,EAAE,CAFS;AAGlBC,MAAAA,KAAK,EAAE,CAHW;AAIlBC,MAAAA,GAAG,EAAE,CAJa;AAKlBC,MAAAA,OAAO,EAAE,CALS;AAMlBC,MAAAA,IAAI,EAAE;AANY,KAmClB;;AAAA,mDAtBAC,6CAAsBC,UAsBtB;;AAAA,sCAnBmCC,mBAASC,OAmB5C;;AAAA,oCAhB+BC,eAAOC,OAgBtC;;AAAA,SAXOpB,MAWP,GAXOA,MAWP;AAAA,SATOC,SASP,GATOA,SASP;AAAA,SAPOC,SAOP,GAPOA,SAOP;AAAA,SAJOC,YAIP,GAJOA,YAIP;AAAA,SADOC,YACP,GADOA,YACP;;AACA,QAAI,KAAKJ,MAAL,KAAgB,IAApB,EAA0B;AACxB;AACA,WAAKA,MAAL,GAAc,OAAd;AACD;AACF;;;;WAED,yBAAgB;AACd,cAAQ,KAAKqB,gBAAb;AACE,aAAKd,6BAAiBC,gBAAtB;AACE,iBAAO;AAAEC,YAAAA,IAAI,EAAE,IAAI,CAAZ;AAAeK,YAAAA,IAAI,EAAE,IAAI;AAAzB,WAAP;;AACF,aAAKP,6BAAiBe,iBAAtB;AACE,iBAAO;AAAEb,YAAAA,IAAI,EAAE,IAAI,CAAZ;AAAeK,YAAAA,IAAI,EAAE,IAAI;AAAzB,WAAP;;AACF,aAAKP,6BAAiBgB,aAAtB;AACE,iBAAO;AAAEd,YAAAA,IAAI,EAAE,KAAKR,SAAL,GAAiB,EAAzB;AAA6Ba,YAAAA,IAAI,EAAE,KAAKZ,SAAL,GAAiB;AAApD,WAAP;;AACF;AACE,sGAAqF,KAAKmB,gBAA1F;AARJ;AAUD","sourcesContent":["import type CalculationMethod from './CalculationMethod';\nimport { Madhab } from './Madhab';\nimport HighLatitudeRule from './HighLatitudeRule';\nimport { PolarCircleResolution } from './PolarCircleResolution';\nimport { Rounding } from './Rounding';\nimport { Shafaq } from './Shafaq';\nimport { ValueOf } from './TypeUtils';\n\nexport default class CalculationParameters {\n  // Madhab to determine how Asr is calculated.\n  madhab: ValueOf<typeof Madhab> = Madhab.Shafi;\n\n  // Rule to determine the earliest time for Fajr and latest time for Isha\n  // needed for high latitude locations where Fajr and Isha may not truly exist\n  // or may present a hardship unless bound to a reasonable time.\n  highLatitudeRule: ValueOf<typeof HighLatitudeRule> =\n    HighLatitudeRule.MiddleOfTheNight;\n\n  // Manual adjustments (in minutes) to be added to each prayer time.\n  adjustments = {\n    fajr: 0,\n    sunrise: 0,\n    dhuhr: 0,\n    asr: 0,\n    maghrib: 0,\n    isha: 0,\n  };\n\n  // Adjustments set by a calculation method. This value should not be manually modified.\n  methodAdjustments = {\n    fajr: 0,\n    sunrise: 0,\n    dhuhr: 0,\n    asr: 0,\n    maghrib: 0,\n    isha: 0,\n  };\n\n  // Rule to determine how to resolve prayer times inside the Polar Circle\n  // where daylight or night may persist for more than 24 hours depending\n  // on the season\n  polarCircleResolution: ValueOf<typeof PolarCircleResolution> =\n    PolarCircleResolution.Unresolved;\n\n  // How seconds are rounded when calculating prayer times\n  rounding: ValueOf<typeof Rounding> = Rounding.Nearest;\n\n  // Used by the MoonsightingCommittee method to determine how to calculate Isha\n  shafaq: ValueOf<typeof Shafaq> = Shafaq.General;\n\n  constructor(\n    // Name of the method, can be used to apply special behavior in calculations.\n    // This property should not be manually modified.\n    public method: null | keyof typeof CalculationMethod,\n    // Angle of the sun below the horizon used for calculating Fajr.\n    public fajrAngle = 0,\n    // Angle of the sun below the horizon used for calculating Isha.\n    public ishaAngle = 0,\n    // Minutes after Maghrib to determine time for Isha\n    // if this value is greater than 0 then ishaAngle is not used.\n    public ishaInterval = 0,\n    // Angle of the sun below the horizon used for calculating Maghrib.\n    // Only used by the Tehran method to account for lightness in the sky.\n    public maghribAngle = 0,\n  ) {\n    if (this.method === null) {\n      // we don't want a breaking change\n      this.method = 'Other';\n    }\n  }\n\n  nightPortions() {\n    switch (this.highLatitudeRule) {\n      case HighLatitudeRule.MiddleOfTheNight:\n        return { fajr: 1 / 2, isha: 1 / 2 };\n      case HighLatitudeRule.SeventhOfTheNight:\n        return { fajr: 1 / 7, isha: 1 / 7 };\n      case HighLatitudeRule.TwilightAngle:\n        return { fajr: this.fajrAngle / 60, isha: this.ishaAngle / 60 };\n      default:\n        throw `Invalid high latitude rule found when attempting to compute night portions: ${this.highLatitudeRule}`;\n    }\n  }\n}\n"],"file":"CalculationParameters.js"}