{"version":3,"sources":["../../src/Qibla.ts"],"names":["qibla","coordinates","makkah","Coordinates","term1","Math","sin","longitude","term2","cos","latitude","tan","term3","angle","atan2"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEe,SAASA,KAAT,CAAeC,WAAf,EAAyC;AACtD,MAAMC,MAAM,GAAG,IAAIC,uBAAJ,CAAgB,UAAhB,EAA4B,UAA5B,CAAf,CADsD,CAGtD;;AACA,MAAMC,KAAK,GAAGC,IAAI,CAACC,GAAL,CACZ,iCAAiBJ,MAAM,CAACK,SAAxB,IACE,iCAAiBN,WAAW,CAACM,SAA7B,CAFU,CAAd;AAIA,MAAMC,KAAK,GACTH,IAAI,CAACI,GAAL,CAAS,iCAAiBR,WAAW,CAACS,QAA7B,CAAT,IACAL,IAAI,CAACM,GAAL,CAAS,iCAAiBT,MAAM,CAACQ,QAAxB,CAAT,CAFF;AAGA,MAAME,KAAK,GACTP,IAAI,CAACC,GAAL,CAAS,iCAAiBL,WAAW,CAACS,QAA7B,CAAT,IACAL,IAAI,CAACI,GAAL,CACE,iCAAiBP,MAAM,CAACK,SAAxB,IACE,iCAAiBN,WAAW,CAACM,SAA7B,CAFJ,CAFF;AAMA,MAAMM,KAAK,GAAGR,IAAI,CAACS,KAAL,CAAWV,KAAX,EAAkBI,KAAK,GAAGI,KAA1B,CAAd;AAEA,SAAO,4BAAY,iCAAiBC,KAAjB,CAAZ,CAAP;AACD","sourcesContent":["import Coordinates from './Coordinates';\nimport { degreesToRadians, radiansToDegrees, unwindAngle } from './MathUtils';\n\nexport default function qibla(coordinates: Coordinates) {\n  const makkah = new Coordinates(21.4225241, 39.8261818);\n\n  // Equation from \"Spherical Trigonometry For the use of colleges and schools\" page 50\n  const term1 = Math.sin(\n    degreesToRadians(makkah.longitude) -\n      degreesToRadians(coordinates.longitude),\n  );\n  const term2 =\n    Math.cos(degreesToRadians(coordinates.latitude)) *\n    Math.tan(degreesToRadians(makkah.latitude));\n  const term3 =\n    Math.sin(degreesToRadians(coordinates.latitude)) *\n    Math.cos(\n      degreesToRadians(makkah.longitude) -\n        degreesToRadians(coordinates.longitude),\n    );\n  const angle = Math.atan2(term1, term2 - term3);\n\n  return unwindAngle(radiansToDegrees(angle));\n}\n"],"file":"Qibla.js"}