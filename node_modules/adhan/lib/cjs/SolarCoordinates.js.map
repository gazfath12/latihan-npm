{"version":3,"sources":["../../src/SolarCoordinates.ts"],"names":["SolarCoordinates","julianDay","T","Astronomical","julianCentury","L0","meanSolarLongitude","Lp","meanLunarLongitude","Omega","ascendingLunarNodeLongitude","Lambda","apparentSolarLongitude","Theta0","meanSiderealTime","dPsi","nutationInLongitude","dEpsilon","nutationInObliquity","Epsilon0","meanObliquityOfTheEcliptic","EpsilonApparent","apparentObliquityOfTheEcliptic","declination","Math","asin","sin","rightAscension","atan2","cos","apparentSiderealTime"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;;;IAEqBA,gB,6BAKnB,0BAAYC,SAAZ,EAA+B;AAAA;;AAC7B,MAAMC,CAAC,GAAGC,yBAAaC,aAAb,CAA2BH,SAA3B,CAAV;;AACA,MAAMI,EAAE,GAAGF,yBAAaG,kBAAb,CAAgCJ,CAAhC,CAAX;;AACA,MAAMK,EAAE,GAAGJ,yBAAaK,kBAAb,CAAgCN,CAAhC,CAAX;;AACA,MAAMO,KAAK,GAAGN,yBAAaO,2BAAb,CAAyCR,CAAzC,CAAd;;AACA,MAAMS,MAAM,GAAG,iCAAiBR,yBAAaS,sBAAb,CAAoCV,CAApC,EAAuCG,EAAvC,CAAjB,CAAf;;AACA,MAAMQ,MAAM,GAAGV,yBAAaW,gBAAb,CAA8BZ,CAA9B,CAAf;;AACA,MAAMa,IAAI,GAAGZ,yBAAaa,mBAAb,CAAiCd,CAAjC,EAAoCG,EAApC,EAAwCE,EAAxC,EAA4CE,KAA5C,CAAb;;AACA,MAAMQ,QAAQ,GAAGd,yBAAae,mBAAb,CAAiChB,CAAjC,EAAoCG,EAApC,EAAwCE,EAAxC,EAA4CE,KAA5C,CAAjB;;AACA,MAAMU,QAAQ,GAAGhB,yBAAaiB,0BAAb,CAAwClB,CAAxC,CAAjB;;AACA,MAAMmB,eAAe,GAAG,iCACtBlB,yBAAamB,8BAAb,CAA4CpB,CAA5C,EAA+CiB,QAA/C,CADsB,CAAxB;AAIA;AACJ;AACA;AACA;;AACI,OAAKI,WAAL,GAAmB,iCACjBC,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,GAAL,CAASL,eAAT,IAA4BG,IAAI,CAACE,GAAL,CAASf,MAAT,CAAtC,CADiB,CAAnB;AAIA;AACJ;AACA;AACA;;AACI,OAAKgB,cAAL,GAAsB,4BACpB,iCACEH,IAAI,CAACI,KAAL,CACEJ,IAAI,CAACK,GAAL,CAASR,eAAT,IAA4BG,IAAI,CAACE,GAAL,CAASf,MAAT,CAD9B,EAEEa,IAAI,CAACK,GAAL,CAASlB,MAAT,CAFF,CADF,CADoB,CAAtB;AASA;AACJ;AACA;;AACI,OAAKmB,oBAAL,GACEjB,MAAM,GACLE,IAAI,GAAG,IAAP,GAAcS,IAAI,CAACK,GAAL,CAAS,iCAAiBV,QAAQ,GAAGF,QAA5B,CAAT,CAAf,GAAkE,IAFpE;AAGD,C","sourcesContent":["import Astronomical from './Astronomical';\nimport { degreesToRadians, radiansToDegrees, unwindAngle } from './MathUtils';\n\nexport default class SolarCoordinates {\n  declination: number;\n  rightAscension: number;\n  apparentSiderealTime: number;\n\n  constructor(julianDay: number) {\n    const T = Astronomical.julianCentury(julianDay);\n    const L0 = Astronomical.meanSolarLongitude(T);\n    const Lp = Astronomical.meanLunarLongitude(T);\n    const Omega = Astronomical.ascendingLunarNodeLongitude(T);\n    const Lambda = degreesToRadians(Astronomical.apparentSolarLongitude(T, L0));\n    const Theta0 = Astronomical.meanSiderealTime(T);\n    const dPsi = Astronomical.nutationInLongitude(T, L0, Lp, Omega);\n    const dEpsilon = Astronomical.nutationInObliquity(T, L0, Lp, Omega);\n    const Epsilon0 = Astronomical.meanObliquityOfTheEcliptic(T);\n    const EpsilonApparent = degreesToRadians(\n      Astronomical.apparentObliquityOfTheEcliptic(T, Epsilon0),\n    );\n\n    /* declination: The declination of the sun, the angle between\n            the rays of the Sun and the plane of the Earth's\n            equator, in degrees.\n            Equation from Astronomical Algorithms page 165 */\n    this.declination = radiansToDegrees(\n      Math.asin(Math.sin(EpsilonApparent) * Math.sin(Lambda)),\n    );\n\n    /* rightAscension: Right ascension of the Sun, the angular distance on the\n            celestial equator from the vernal equinox to the hour circle,\n            in degrees.\n            Equation from Astronomical Algorithms page 165 */\n    this.rightAscension = unwindAngle(\n      radiansToDegrees(\n        Math.atan2(\n          Math.cos(EpsilonApparent) * Math.sin(Lambda),\n          Math.cos(Lambda),\n        ),\n      ),\n    );\n\n    /* apparentSiderealTime: Apparent sidereal time, the hour angle of the vernal\n            equinox, in degrees.\n            Equation from Astronomical Algorithms page 88 */\n    this.apparentSiderealTime =\n      Theta0 +\n      (dPsi * 3600 * Math.cos(degreesToRadians(Epsilon0 + dEpsilon))) / 3600;\n  }\n}\n"],"file":"SolarCoordinates.js"}