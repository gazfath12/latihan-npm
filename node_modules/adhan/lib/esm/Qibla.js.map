{"version":3,"sources":["../../src/Qibla.ts"],"names":["Coordinates","degreesToRadians","radiansToDegrees","unwindAngle","qibla","coordinates","makkah","term1","Math","sin","longitude","term2","cos","latitude","tan","term3","angle","atan2"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,eAAxB;AACA,SAASC,gBAAT,EAA2BC,gBAA3B,EAA6CC,WAA7C,QAAgE,aAAhE;AAEA,eAAe,SAASC,KAAT,CAAeC,WAAf,EAAyC;AACtD,QAAMC,MAAM,GAAG,IAAIN,WAAJ,CAAgB,UAAhB,EAA4B,UAA5B,CAAf,CADsD,CAGtD;;AACA,QAAMO,KAAK,GAAGC,IAAI,CAACC,GAAL,CACZR,gBAAgB,CAACK,MAAM,CAACI,SAAR,CAAhB,GACET,gBAAgB,CAACI,WAAW,CAACK,SAAb,CAFN,CAAd;AAIA,QAAMC,KAAK,GACTH,IAAI,CAACI,GAAL,CAASX,gBAAgB,CAACI,WAAW,CAACQ,QAAb,CAAzB,IACAL,IAAI,CAACM,GAAL,CAASb,gBAAgB,CAACK,MAAM,CAACO,QAAR,CAAzB,CAFF;AAGA,QAAME,KAAK,GACTP,IAAI,CAACC,GAAL,CAASR,gBAAgB,CAACI,WAAW,CAACQ,QAAb,CAAzB,IACAL,IAAI,CAACI,GAAL,CACEX,gBAAgB,CAACK,MAAM,CAACI,SAAR,CAAhB,GACET,gBAAgB,CAACI,WAAW,CAACK,SAAb,CAFpB,CAFF;AAMA,QAAMM,KAAK,GAAGR,IAAI,CAACS,KAAL,CAAWV,KAAX,EAAkBI,KAAK,GAAGI,KAA1B,CAAd;AAEA,SAAOZ,WAAW,CAACD,gBAAgB,CAACc,KAAD,CAAjB,CAAlB;AACD","sourcesContent":["import Coordinates from './Coordinates';\nimport { degreesToRadians, radiansToDegrees, unwindAngle } from './MathUtils';\n\nexport default function qibla(coordinates: Coordinates) {\n  const makkah = new Coordinates(21.4225241, 39.8261818);\n\n  // Equation from \"Spherical Trigonometry For the use of colleges and schools\" page 50\n  const term1 = Math.sin(\n    degreesToRadians(makkah.longitude) -\n      degreesToRadians(coordinates.longitude),\n  );\n  const term2 =\n    Math.cos(degreesToRadians(coordinates.latitude)) *\n    Math.tan(degreesToRadians(makkah.latitude));\n  const term3 =\n    Math.sin(degreesToRadians(coordinates.latitude)) *\n    Math.cos(\n      degreesToRadians(makkah.longitude) -\n        degreesToRadians(coordinates.longitude),\n    );\n  const angle = Math.atan2(term1, term2 - term3);\n\n  return unwindAngle(radiansToDegrees(angle));\n}\n"],"file":"Qibla.js"}