{"version":3,"sources":["../../src/SolarCoordinates.ts"],"names":["Astronomical","degreesToRadians","radiansToDegrees","unwindAngle","SolarCoordinates","constructor","julianDay","T","julianCentury","L0","meanSolarLongitude","Lp","meanLunarLongitude","Omega","ascendingLunarNodeLongitude","Lambda","apparentSolarLongitude","Theta0","meanSiderealTime","dPsi","nutationInLongitude","dEpsilon","nutationInObliquity","Epsilon0","meanObliquityOfTheEcliptic","EpsilonApparent","apparentObliquityOfTheEcliptic","declination","Math","asin","sin","rightAscension","atan2","cos","apparentSiderealTime"],"mappings":"AAAA,OAAOA,YAAP,MAAyB,gBAAzB;AACA,SAASC,gBAAT,EAA2BC,gBAA3B,EAA6CC,WAA7C,QAAgE,aAAhE;AAEA,eAAe,MAAMC,gBAAN,CAAuB;AAKpCC,EAAAA,WAAW,CAACC,SAAD,EAAoB;AAC7B,UAAMC,CAAC,GAAGP,YAAY,CAACQ,aAAb,CAA2BF,SAA3B,CAAV;AACA,UAAMG,EAAE,GAAGT,YAAY,CAACU,kBAAb,CAAgCH,CAAhC,CAAX;AACA,UAAMI,EAAE,GAAGX,YAAY,CAACY,kBAAb,CAAgCL,CAAhC,CAAX;AACA,UAAMM,KAAK,GAAGb,YAAY,CAACc,2BAAb,CAAyCP,CAAzC,CAAd;AACA,UAAMQ,MAAM,GAAGd,gBAAgB,CAACD,YAAY,CAACgB,sBAAb,CAAoCT,CAApC,EAAuCE,EAAvC,CAAD,CAA/B;AACA,UAAMQ,MAAM,GAAGjB,YAAY,CAACkB,gBAAb,CAA8BX,CAA9B,CAAf;AACA,UAAMY,IAAI,GAAGnB,YAAY,CAACoB,mBAAb,CAAiCb,CAAjC,EAAoCE,EAApC,EAAwCE,EAAxC,EAA4CE,KAA5C,CAAb;AACA,UAAMQ,QAAQ,GAAGrB,YAAY,CAACsB,mBAAb,CAAiCf,CAAjC,EAAoCE,EAApC,EAAwCE,EAAxC,EAA4CE,KAA5C,CAAjB;AACA,UAAMU,QAAQ,GAAGvB,YAAY,CAACwB,0BAAb,CAAwCjB,CAAxC,CAAjB;AACA,UAAMkB,eAAe,GAAGxB,gBAAgB,CACtCD,YAAY,CAAC0B,8BAAb,CAA4CnB,CAA5C,EAA+CgB,QAA/C,CADsC,CAAxC;AAIA;AACJ;AACA;AACA;;AACI,SAAKI,WAAL,GAAmBzB,gBAAgB,CACjC0B,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,GAAL,CAASL,eAAT,IAA4BG,IAAI,CAACE,GAAL,CAASf,MAAT,CAAtC,CADiC,CAAnC;AAIA;AACJ;AACA;AACA;;AACI,SAAKgB,cAAL,GAAsB5B,WAAW,CAC/BD,gBAAgB,CACd0B,IAAI,CAACI,KAAL,CACEJ,IAAI,CAACK,GAAL,CAASR,eAAT,IAA4BG,IAAI,CAACE,GAAL,CAASf,MAAT,CAD9B,EAEEa,IAAI,CAACK,GAAL,CAASlB,MAAT,CAFF,CADc,CADe,CAAjC;AASA;AACJ;AACA;;AACI,SAAKmB,oBAAL,GACEjB,MAAM,GACLE,IAAI,GAAG,IAAP,GAAcS,IAAI,CAACK,GAAL,CAAShC,gBAAgB,CAACsB,QAAQ,GAAGF,QAAZ,CAAzB,CAAf,GAAkE,IAFpE;AAGD;;AA9CmC","sourcesContent":["import Astronomical from './Astronomical';\nimport { degreesToRadians, radiansToDegrees, unwindAngle } from './MathUtils';\n\nexport default class SolarCoordinates {\n  declination: number;\n  rightAscension: number;\n  apparentSiderealTime: number;\n\n  constructor(julianDay: number) {\n    const T = Astronomical.julianCentury(julianDay);\n    const L0 = Astronomical.meanSolarLongitude(T);\n    const Lp = Astronomical.meanLunarLongitude(T);\n    const Omega = Astronomical.ascendingLunarNodeLongitude(T);\n    const Lambda = degreesToRadians(Astronomical.apparentSolarLongitude(T, L0));\n    const Theta0 = Astronomical.meanSiderealTime(T);\n    const dPsi = Astronomical.nutationInLongitude(T, L0, Lp, Omega);\n    const dEpsilon = Astronomical.nutationInObliquity(T, L0, Lp, Omega);\n    const Epsilon0 = Astronomical.meanObliquityOfTheEcliptic(T);\n    const EpsilonApparent = degreesToRadians(\n      Astronomical.apparentObliquityOfTheEcliptic(T, Epsilon0),\n    );\n\n    /* declination: The declination of the sun, the angle between\n            the rays of the Sun and the plane of the Earth's\n            equator, in degrees.\n            Equation from Astronomical Algorithms page 165 */\n    this.declination = radiansToDegrees(\n      Math.asin(Math.sin(EpsilonApparent) * Math.sin(Lambda)),\n    );\n\n    /* rightAscension: Right ascension of the Sun, the angular distance on the\n            celestial equator from the vernal equinox to the hour circle,\n            in degrees.\n            Equation from Astronomical Algorithms page 165 */\n    this.rightAscension = unwindAngle(\n      radiansToDegrees(\n        Math.atan2(\n          Math.cos(EpsilonApparent) * Math.sin(Lambda),\n          Math.cos(Lambda),\n        ),\n      ),\n    );\n\n    /* apparentSiderealTime: Apparent sidereal time, the hour angle of the vernal\n            equinox, in degrees.\n            Equation from Astronomical Algorithms page 88 */\n    this.apparentSiderealTime =\n      Theta0 +\n      (dPsi * 3600 * Math.cos(degreesToRadians(Epsilon0 + dEpsilon))) / 3600;\n  }\n}\n"],"file":"SolarCoordinates.js"}